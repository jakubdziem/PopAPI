package com.dziem.popapi.formatter;

import java.util.Arrays;
import java.util.List;

public class TeamsGPInsertGenerator {
    public static void main(String[] args) {
        String s = """
                    <a href="/en/ferrari.aspx"><span class="CurChpConstructor" title="World Champion">Ferrari</span></a></td><td align="right">1098</td><a href="/en/mclaren.aspx"><span class="CurChpConstructor" title="World Champion">McLaren</span></a></td><td align="right">970</td><a href="/en/williams.aspx"><span class="CurChpConstructor" title="World Champion">Williams</span></a></td><td align="right">851</td><a href="/en/lotus.aspx"><span class="WorldChp" title="World Champion">Lotus</span></a></td><td align="right">606</td><a href="/en/tyrrell.aspx"><span class="WorldChp" title="World Champion">Tyrrell</span></a></td><td align="right">430</td><a href="/en/renault.aspx"><span class="WorldChp" title="World Champion">Renault</span></a></td><td align="right">400</td><a href="/en/brabham.aspx"><span class="WorldChp" title="World Champion">Brabham</span></a></td><td align="right">394</td><a href="/en/red-bull.aspx"><span class="CurChpConstructor" title="World Champion">Red Bull</span></a></td><td align="right">393</td><a href="/en/sauber.aspx">Sauber</a></td><td align="right">373</td><a href="/en/minardi.aspx">Minardi</a></td><td align="right">340</td><a href="/en/ligier.aspx">Ligier</a></td><td align="right">326</td><a href="/en/mercedes.aspx"><span class="CurChpConstructor" title="World Champion">Mercedes</span></a></td><td align="right">317</td><a href="/en/arrows.aspx">Arrows</a></td><td align="right">291</td><a href="/en/toro-rosso.aspx">Toro Rosso</a></td><td align="right">268</td><a href="/en/benetton.aspx"><span class="WorldChp" title="World Champion">Benetton</span></a></td><td align="right">260</td><a href="/en/jordan.aspx">Jordan</a></td><td align="right">250</td><a href="/en/alfa-romeo.aspx">Alfa Romeo</a></td><td align="right">214</td><a href="/en/force-india.aspx">Force India</a></td><td align="right">212</td><a href="/en/brm.aspx"><span class="WorldChp" title="World Champion">BRM</span></a></td><td align="right">197</td><a href="/en/march.aspx">March</a></td><td align="right">197</td><a href="/en/haas.aspx"><span class="CurConstructor">Haas</span></a></td><td align="right">190</td><a href="/en/lola.aspx">Lola</a></td><td align="right">149</td><a href="/en/toyota.aspx">Toyota</a></td><td align="right">139</td><a href="/en/osella.aspx">Osella</a></td><td align="right">132</td><a href="/en/cooper.aspx"><span class="WorldChp" title="World Champion">Cooper</span></a></td><td align="right">128</td><a href="/en/surtees.aspx">Surtees</a></td><td align="right">118</td><a href="/en/bar.aspx">BAR</a></td><td align="right">117</td><a href="/en/shadow.aspx">Shadow</a></td><td align="right">104</td><a href="/en/ensign.aspx">Ensign</a></td><td align="right">99</td><a href="/en/aston-martin.aspx"><span class="CurConstructor">Aston Martin</span></a></td><td align="right">95</td><a href="/en/footwork.aspx">Footwork</a></td><td align="right">91</td><a href="/en/alpine.aspx"><span class="CurConstructor">Alpine</span></a></td><td align="right">90</td><a href="/en/ats.aspx">ATS</a></td><td align="right">89</td><a href="/en/bmw-sauber.aspx">BMW Sauber</a></td><td align="right">89</td><a href="/en/honda.aspx">Honda</a></td><td align="right">88</td><a href="/en/jaguar.aspx">Jaguar</a></td><td align="right">85</td><a href="/en/prost.aspx">Prost</a></td><td align="right">83</td><a href="/en/alphatauri.aspx">AlphaTauri</a></td><td align="right">83</td><a href="/en/dallara.aspx">Dallara</a></td><td align="right">78</td><a href="/en/marussia.aspx">Marussia</a></td><td align="right">73</td><a href="/en/copersucar.aspx">Copersucar</a></td><td align="right">71</td><a href="/en/maserati.aspx">Maserati</a></td><td align="right">70</td><a href="/en/matra.aspx"><span class="WorldChp" title="World Champion">Matra</span></a></td><td align="right">60</td><a href="/en/toleman.aspx">Toleman</a></td><td align="right">57</td><a href="/en/hrt.aspx">HRT</a></td><td align="right">56</td><a href="/en/caterham.aspx">Caterham</a></td><td align="right">56</td><a href="/en/zakspeed.aspx">Zakspeed</a></td><td align="right">53</td><a href="/en/hesketh.aspx">Hesketh</a></td><td align="right">52</td><a href="/en/stewart.aspx">Stewart</a></td><td align="right">49</td><a href="/en/wolf.aspx">Wolf</a></td><td align="right">47</td><a href="/en/ags.aspx">AGS</a></td><td align="right">47</td><a href="/en/penske.aspx">Penske</a></td><td align="right">40</td><a href="/en/super-aguri.aspx">Super Aguri</a></td><td align="right">39</td><a href="/en/virgin.aspx">Virgin</a></td><td align="right">38</td><a href="/en/racing-point.aspx">Racing Point</a></td><td align="right">38</td><a href="/en/gordini.aspx">Gordini</a></td><td align="right">33</td><a href="/en/theodore.aspx">Theodore</a></td><td align="right">33</td><a href="/en/fittipaldi.aspx">Fittipaldi</a></td><td align="right">32</td><a href="/en/larrousse.aspx">Larrousse</a></td><td align="right">32</td><a href="/en/porsche.aspx">Porsche</a></td><td align="right">31</td><a href="/en/iso-marlboro.aspx">Iso-Marlboro</a></td><td align="right">30</td><a href="/en/leyton-house.aspx">Leyton House</a></td><td align="right">30</td><a href="/en/vanwall.aspx"><span class="WorldChp" title="World Champion">Vanwall</span></a></td><td align="right">28</td><a href="/en/ram.aspx">RAM</a></td><td align="right">28</td><a href="/en/eagle.aspx">Eagle</a></td><td align="right">25</td><a href="/en/kick-sauber.aspx"><span class="CurConstructor">Kick Sauber</span></a></td><td align="right">24</td><a href="/en/rb.aspx">RB</a></td><td align="right">24</td><a href="/en/spirit.aspx">Spirit</a></td><td align="right">23</td><a href="/en/forti.aspx">Forti</a></td><td align="right">23</td><a href="/en/pacific.aspx">Pacific</a></td><td align="right">22</td><a href="/en/simtek.aspx">Simtek</a></td><td align="right">21</td><a href="/en/manor.aspx">Manor</a></td><td align="right">21</td><a href="/en/rial.aspx">Rial</a></td><td align="right">20</td><a href="/en/fondmetal.aspx">Fondmetal</a></td><td align="right">19</td><a href="/en/midland.aspx">Midland</a></td><td align="right">18</td><a href="/en/connaught.aspx">Connaught</a></td><td align="right">17</td><a href="/en/spyker.aspx">Spyker</a></td><td align="right">17</td><a href="/en/brawn-gp.aspx"><span class="WorldChp" title="World Champion">Brawn GP</span></a></td><td align="right">17</td><a href="/en/parnelli.aspx">Parnelli</a></td><td align="right">16</td><a href="/en/onyx.aspx">Onyx</a></td><td align="right">16</td><a href="/en/venturi.aspx">Venturi</a></td><td align="right">16</td><a href="/en/simca-gordini.aspx">Simca Gordini</a></td><td align="right">14</td><a href="/en/hwm.aspx">HWM</a></td><td align="right">14</td><a href="/en/eurobrun.aspx">Eurobrun</a></td><td align="right">14</td><a href="/en/talbot-lago.aspx">Talbot Lago</a></td><td align="right">13</td><a href="/en/brp.aspx">BRP</a></td><td align="right">13</td><a href="/en/coloni.aspx">Coloni</a></td><td align="right">13</td><a href="/en/kurtis-kraft.aspx">Kurtis Kraft</a></td><td align="right">12</td><a href="/en/kuzma.aspx">Kuzma</a></td><td align="right">10</td><a href="/en/de-tomaso.aspx">De Tomaso</a></td><td align="right">10</td><a href="/en/tecno.aspx">Tecno</a></td><td align="right">10</td><a href="/en/hill.aspx">Hill</a></td><td align="right">10</td><a href="/en/merzario.aspx">Merzario</a></td><td align="right">10</td><a href="/en/watson.aspx">Watson</a></td><td align="right">9</td><a href="/en/lesovsky.aspx">Lesovsky</a></td><td align="right">9</td><a href="/en/eifelland-march.aspx">Eifelland March</a></td><td align="right">8</td><a href="/en/era.aspx">ERA</a></td><td align="right">7</td><a href="/en/phillips.aspx">Phillips</a></td><td align="right">7</td><a href="/en/veritas.aspx">Veritas</a></td><td align="right">6</td><a href="/en/stevens.aspx">Stevens</a></td><td align="right">6</td>
                    """;
        List<String> lines = Arrays.stream(s.split("</td>")).toList();
        for(String line : lines) {
            System.out.println(line);
        }
        String name = "";
        String gp;
        int country = 0;
        for (int i = 0; i < lines.size()-1; i++) {
            String line = lines.get(i);
            if (i%2==0) { //name
                if(line.contains("title=\"World Champion\"")) {
                    name = line.substring(line.indexOf("title=\"World Champion\">") + "title=\"World Champion\">".length(), line.indexOf("</span>"));
                } else if(line.contains("class=\"CurConstructor\">")) {
                    name = line.substring(line.indexOf("class=\"CurConstructor\">") + "class=\"CurConstructor\">".length(), line.indexOf("</span>"));
                }
                else {
                    name = line.substring(line.indexOf(">") + 1, line.indexOf("</a>"));
                }
            } else { //gp
                gp = line.substring(line.indexOf(">") + 1);
                country++;
                System.out.printf("INSERT INTO F1_TEAMS_GP (NAME, GP, IMAGE_URL, TIER, IMAGE_SOURCE_SHORT, IMAGE_SOURCE) VALUES ('%s', %s, '/images/%s.png', %d, '', '');\n"
                        , name, gp, name.replace(" ", "_"), country < 14 ? 1 : 2);
            }
        }
    }
}
